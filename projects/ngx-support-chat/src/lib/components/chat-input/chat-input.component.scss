:host {
  display: block;
  flex: 1;
  min-width: 0;

  // Internal tokens with fallbacks
  --_input-bg: var(--ngx-input-bg, #ffffff);
  --_input-text: var(--ngx-input-text, #1a1a1a);
  --_input-placeholder: var(--ngx-input-placeholder, #999999);
  --_input-border: var(--ngx-input-border, #e0e0e0);
  --_input-focus-border: var(--ngx-input-focus-border, #0066cc);

  --_spacing-sm: var(--ngx-spacing-sm, 8px);
  --_spacing-md: var(--ngx-spacing-md, 16px);

  --_radius-md: var(--ngx-radius-md, 12px);

  --_font-family: var(--ngx-font-family, system-ui, -apple-system, sans-serif);
  --_font-size-md: var(--ngx-font-size-md, 1rem);
  --_line-height: var(--ngx-line-height, 1.5);

  --_input-min-height: var(--ngx-input-min-height, 40px);

  --_transition-duration: var(--ngx-transition-duration, 0.2s);
}

.chat-input {
  width: 100%;

  &__textarea {
    width: 100%;
    min-height: var(--_input-min-height);
    padding: var(--_spacing-sm) var(--_spacing-md);
    border: 1px solid var(--_input-border);
    border-radius: var(--_radius-md);
    background-color: var(--_input-bg);
    color: var(--_input-text);
    font-family: var(--_font-family);
    font-size: var(--_font-size-md);
    line-height: var(--_line-height);
    resize: none;
    outline: none;
    transition: border-color var(--_transition-duration) ease;

    &::placeholder {
      color: var(--_input-placeholder);
    }

    &:focus {
      border-color: var(--_input-focus-border);
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      background-color: color-mix(in srgb, var(--_input-bg), #000 5%);
    }
  }
}

// Container query adaptations
@container chat (max-width: 299px) {
  .chat-input__textarea {
    padding: var(--_spacing-sm);
    font-size: 0.875rem;
  }
}
